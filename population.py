population_by_year = {
    2019: {
        "서울": 9736000, "부산": 3414000, "대구": 2436000, "인천": 2954000,
        "광주": 1458000, "대전": 1472000, "울산": 1140000, "경기": 13245000,
        "강원": 1530000, "충북": 1598000, "충남": 2121000, "전북": 1793000,
        "전남": 1834000, "경북": 2654000, "경남": 3348000, "제주": 670000, "세종": 340000
    },
    2020: {
        "서울": 9668000, "부산": 3390000, "대구": 2430000, "인천": 2966000,
        "광주": 1455000, "대전": 1470000, "울산": 1134000, "경기": 13341000,
        "강원": 1520000, "충북": 1593000, "충남": 2118000, "전북": 1786000,
        "전남": 1828000, "경북": 2640000, "경남": 3330000, "제주": 675000, "세종": 347000
    },
    2021: {
        "서울": 9576000, "부산": 3360000, "대구": 2413000, "인천": 2977000,
        "광주": 1450000, "대전": 1468000, "울산": 1126000, "경기": 13400000,
        "강원": 1510000, "충북": 1587000, "충남": 2110000, "전북": 1779000,
        "전남": 1820000, "경북": 2625000, "경남": 3310000, "제주": 680000, "세종": 355000
    },
    2022: {
        "서울": 9480000, "부산": 3330000, "대구": 2390000, "인천": 2988000,
        "광주": 1445000, "대전": 1465000, "울산": 1118000, "경기": 13460000,
        "강원": 1500000, "충북": 1580000, "충남": 2102000, "전북": 1772000,
        "전남": 1812000, "경북": 2610000, "경남": 3290000, "제주": 685000, "세종": 362000
    },
    2023: {
        "서울": 9400000, "부산": 3300000, "대구": 2370000, "인천": 3000000,
        "광주": 1440000, "대전": 1460000, "울산": 1110000, "경기": 13510000,
        "강원": 1490000, "충북": 1575000, "충남": 2095000, "전북": 1765000,
        "전남": 1805000, "경북": 2595000, "경남": 3270000, "제주": 690000, "세종": 368000
    },
    2024: {
        "서울": 9330000, "부산": 3270000, "대구": 2360000, "인천": 3010000,
        "광주": 1435000, "대전": 1458000, "울산": 1105000, "경기": 13570000,
        "강원": 1480000, "충북": 1570000, "충남": 2088000, "전북": 1758000,
        "전남": 1798000, "경북": 2580000, "경남": 3250000, "제주": 695000, "세종": 374000
    }
}


from population import population_by_year

def calculate_incidence_rate(region: str, year: int, cases: int) -> float:
    """
    주어진 지역과 연도, 감염자 수를 바탕으로 10만 명당 발병률(per 100k)을 계산합니다.

    :param region: 지역명 (예: '서울', '부산')
    :param year: 연도 (예: 2020)
    :param cases: 해당 연도·지역의 감염자 수
    :return: 발병률 (단위: 명당 10만 명)
    """
    try:
        population = population_by_year[year][region]
        rate = (cases / population) * 100000
        return round(rate, 3)  # 소수점 셋째 자리까지 반올림
    except KeyError:
        raise ValueError(f"[인구정보 없음] year={year}, region={region}")